(this["webpackJsonpkela-laskuri"]=this["webpackJsonpkela-laskuri"]||[]).push([[0],{59:function(e,t,a){},85:function(e,t,a){e.exports=a(96)},90:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),l=a.n(i),o=(a(90),a(60)),u=a(49),c=a(11),s=a(31),m=a(17),d=a(38),p=a(39),h=a(47),v=a(140),f=a(148),E=a(152),y=a(136),b=a(138),g=a(137),I=a(151),k=a(65),w=a.n(k),j=a(68),x=a.n(j),C=a(66),O=a.n(C),R=a(67),S=a.n(R),A=a(37),D=a.n(A),F=a(63),M=a.n(F),N=a(64),P=a.n(N),V=a(70),W=a(139),H=Object(V.a)({palette:{primary:{main:"#FFF"}}}),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleResidentChange=function(e,t){t&&(1===t&&(a.setState((function(e){var t=Object(c.a)(e.initialIncomeField);return t[1]={amount:0,months:12},{initialIncomeField:Array.from(t)}}),(function(){return a.props.updateData(a.state)})),a.setState((function(e){var t=Object(c.a)(e.extraIncomeRows);return t[1]=[],{extraIncomeRows:Array.from(t)}}),(function(){return a.props.updateData(a.state)}))),a.setState({residentCount:t},(function(){return a.props.updateData(a.state)})))},a.addIncomeRow=function(e){a.setState((function(t){var a=Object(c.a)(t.extraIncomeRows);return a[e]=[].concat(Object(c.a)(a[e]),[{amount:0,months:0}]),{extraIncomeRows:a}}),(function(){return a.props.updateData(a.state)}))},a.removeIncomeRow=function(e,t){var n=Object(c.a)(a.state.extraIncomeRows);n[t].splice(e,1),a.setState({extraIncomeRows:n},(function(){return a.props.updateData(a.state)}))},a.setIncomeAmount=function(e,t,n){-1===e?a.setState((function(e){var a=Object(c.a)(e.initialIncomeField);return a[t].amount=n,{initialIncomeField:Array.from(a)}}),(function(){return a.props.updateData(a.state)})):a.setState((function(a){var r=Object(c.a)(a.extraIncomeRows);return r[t][e].amount=n,{extraIncomeRows:Array.from(r)}}),(function(){return a.props.updateData(a.state)}))},a.setIncomeMonths=function(e,t,n){-1===e?a.setState((function(e){var a=Object(c.a)(e.initialIncomeField);return a[t].months=n,{initialIncomeField:Array.from(a)}}),(function(){return a.props.updateData(a.state)})):a.setState((function(a){var r=Object(c.a)(a.extraIncomeRows);return r[t][e].months=n,{extraIncomeRows:Array.from(r)}}),(function(){return a.props.updateData(a.state)}))},a.renderIncomeRow=function(e,t,n,i){var l=-1===t;return r.a.createElement("div",{key:n+"-"+t},r.a.createElement(f.a,{type:"number",style:{width:200,maxWidth:"50%"},label:i,value:e.amount,onChange:function(e){return a.setIncomeAmount(t,n,e.target.value)},variant:"outlined",InputProps:{endAdornment:r.a.createElement(y.a,{position:"end"},r.a.createElement(D.a,null))}}),r.a.createElement(f.a,{type:"number",style:{width:100},onChange:function(e){return a.setIncomeMonths(t,n,e.target.value)},label:l?"Kuukautta":null,value:e.months,variant:"outlined"}),r.a.createElement(I.a,{title:l?"Lis\xe4\xe4 rivi":"Poista rivi"},r.a.createElement(g.a,{style:{marginTop:4},color:l?"primary":"secondary",label:"Testi",size:"medium",onClick:l?function(){return a.addIncomeRow(n)}:function(){return a.removeIncomeRow(t,n)},"aria-label":"Add row"},l?r.a.createElement(M.a,null):r.a.createElement(P.a,null))))},a.componentDidMount=function(){a.props.updateData(a.state)},a.state={extraIncomeRows:[[],[]],residentCount:1,children:0,municipality:1,initialIncomeField:[{amount:0,months:12},{amount:0,months:12}]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this;1!==this.state.residentCount&&(e=r.a.createElement("div",null,r.a.createElement(b.a,{style:{margin:"1rem"}}),this.renderIncomeRow(this.state.initialIncomeField[1],-1,1,"Toisen asukkaan tulot"),this.state.extraIncomeRows[1].map((function(e,a){return t.renderIncomeRow(e,a,1)}))));var a=this.props.totalEarnings;return r.a.createElement("div",{className:"panel"},r.a.createElement("div",null,r.a.createElement("h3",null," Asukkaita"),r.a.createElement(W.a,{theme:H},r.a.createElement(E.a,{size:"large",value:this.state.residentCount,exclusive:!0,onChange:this.handleResidentChange},r.a.createElement(v.a,{key:1,value:1},r.a.createElement(I.a,{title:"1 ihminen"},r.a.createElement(w.a,null)),","),r.a.createElement(v.a,{key:2,value:2},r.a.createElement(I.a,{title:"2 ihmist\xe4"},r.a.createElement(O.a,null))))),r.a.createElement(f.a,{type:"number",error:this.state.children<0,style:{width:100},label:"Lapsia",value:this.state.children,onChange:function(e){return t.setState({children:parseInt(e.target.value,10)},(function(){return t.props.updateData(t.state)}))},variant:"outlined",InputProps:{startAdornment:r.a.createElement(y.a,{position:"start"},r.a.createElement(S.a,null))}})),r.a.createElement("div",null,r.a.createElement("h3",null,"Tulot",r.a.createElement(I.a,{title:"Ruokakunnan tuloina huomioidaan ansiotulot, p\xe4\xe4omatulot ja useat sosiaalietuudet, mm opintotuki. "},r.a.createElement(g.a,{"aria-label":"help",color:"primary"},r.a.createElement(x.a,null)))),this.renderIncomeRow(this.state.initialIncomeField[0],-1,0,"Omat tulot"),this.state.extraIncomeRows[0].map((function(e,a){return t.renderIncomeRow(e,a,0)})),e,r.a.createElement("p",null," Tuloja yhteens\xe4 vuodessa ",a," \u20ac (",Math.round(a/12)," \u20ac/kk)")))}}]),t}(r.a.Component),B=a(12),K=a(69),L=a.n(K),z=a(153),J=a(147),$=a(141),q=a(142),G=a(149),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleIncludes=function(e){a.setState((function(t){return Object(B.a)({},e,!t[e])}),(function(){return a.props.updateData(a.state)}))},a.handleMunicipalityChange=function(e){a.setState({municipality:e.target.value},(function(){return a.props.updateData(a.state)}))},a.state={rent:0,electricityValue:.83,includesWater:!0,includesElectricity:!1,includesHeating:!0,area:40,municipality:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this;return this.state.includesElectricity&&(e=r.a.createElement("div",null,r.a.createElement(f.a,{type:"number",style:{width:200},label:r.a.createElement("span",null,"Asuinpinta-ala (m",r.a.createElement("sup",null,"2"),")"),value:this.state.area,onChange:function(e){return t.setState({area:parseFloat(e.target.value)},(function(){return t.props.updateData(t.state)}))},variant:"outlined",InputProps:{endAdornment:r.a.createElement(y.a,{position:"end"},r.a.createElement(L.a,null))}}),r.a.createElement(f.a,{type:"number",style:{width:200},label:r.a.createElement("span",null,"S\xe4hk\xf6n raha-arvo /m",r.a.createElement("sup",null,"2"),"/kk"),value:this.state.electricityValue,onChange:function(e){return t.setState({electricityValue:parseFloat(e.target.value)},(function(){return t.props.updateData(t.state)}))},variant:"outlined",InputProps:{endAdornment:r.a.createElement(y.a,{position:"end"},r.a.createElement(D.a,null))}}))),r.a.createElement("div",{className:"panel"},r.a.createElement("div",null,r.a.createElement("h3",null,"Asunnon sijaintikunta"),r.a.createElement(J.a,{value:this.state.municipality,onChange:this.handleMunicipalityChange},r.a.createElement(z.a,{value:0},"Helsinki"),r.a.createElement(z.a,{value:1},"PK-seutu (pl. Helsinki)"),r.a.createElement(z.a,{value:2},"Muut suuret kaupungit"),r.a.createElement(z.a,{value:3},"Muut Suomi"))),r.a.createElement("div",null,r.a.createElement("h3",null," Vuokra"),r.a.createElement(f.a,{type:"number",style:{width:200},label:"Kuussa",value:this.state.rent,onChange:function(e){t.setState({rent:e.target.value},(function(){return t.props.updateData(t.state)}))},variant:"outlined",InputProps:{endAdornment:r.a.createElement(y.a,{position:"end"},r.a.createElement(D.a,null))}})),r.a.createElement("div",null,r.a.createElement("h3",null," Vuokraan sis\xe4ltyy"),r.a.createElement("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"center"}},r.a.createElement($.a,{row:!0},r.a.createElement(q.a,{control:r.a.createElement(G.a,{checked:this.state.includesWater,onChange:function(){return t.toggleIncludes("includesWater")},value:"water"}),label:"Vesi"}),r.a.createElement(q.a,{control:r.a.createElement(G.a,{checked:this.state.includesHeating,onChange:function(){return t.toggleIncludes("includesHeating")},value:"heating"}),label:"L\xe4mmitys"}),r.a.createElement(q.a,{control:r.a.createElement(G.a,{checked:this.state.includesElectricity,onChange:function(){return t.toggleIncludes("includesElectricity")},value:"electricity"}),label:"S\xe4hk\xf6"}))),e))}}]),t}(r.a.Component);a(59);var U=function(e){var t="Sy\xf6tt\xe4m\xe4ss\xe4si datassa on virheit\xe4.";return e.data.assistance>0?t="Asuntokuntasi saa asumistukea "+e.data.assistance+" euroa kuussa.":isNaN(e.data.assistance)||(t="Asuntokuntasi ei saa lainkaan asumistukea."),r.a.createElement("div",null,t)},X=a(97),Y=a(146),Z=a(143),_=a(144),ee=a(72),te=a(145),ae=300,ne=18;var re=function(){var e=r.a.useState({}),t=Object(u.a)(e,2),a=t[0],n=t[1],i=r.a.useState(0),l=Object(u.a)(i,2),c=l[0],s=l[1],m=function(e,t){var a=e.residentCount+e.children,n=function(e,t){var a=t-4,n=[[516,499,396,349],[746,717,579,509],[951,903,734,651],[1111,1054,869,775]][Math.min(t,4)-1][e];return a>0&&(n+=[139,132,119,114][e]*a),n}(e.municipality,a),r=Math.min(n,e.rent);e.includesElectricity&&(r-=e.area*e.electricityValue),e.includesWater||(r+=ne*a),e.includesHeating||(r+=41+14*(a-1));var i=Math.max(t/12-a*ae,0),l=Math.max(.42*(i-(597+99*e.residentCount+221*e.children)),0);return Math.round(.8*(r-l)*100)/100},d=function(e){var t=Object(o.a)({},a,{},e);if(!function(e){return e.children>=0}(t))return t.assistance=NaN,void n(t);var r=function(e){var t=0,a=!0,n=!1,r=void 0;try{for(var i,l=e.initialIncomeField[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var o=i.value;t+=o.amount*o.months}}catch(g){n=!0,r=g}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}var u=!0,c=!1,s=void 0;try{for(var m,d=e.extraIncomeRows[Symbol.iterator]();!(u=(m=d.next()).done);u=!0){var p=m.value,h=!0,v=!1,f=void 0;try{for(var E,y=p[Symbol.iterator]();!(h=(E=y.next()).done);h=!0){var b=E.value;t+=b.amount*b.months}}catch(g){v=!0,f=g}finally{try{h||null==y.return||y.return()}finally{if(v)throw f}}}}catch(g){c=!0,s=g}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}return t}(t);s(r);var i=m(t,r);t.assistance=isNaN(i)?null:i,n(t)};return r.a.createElement("div",{className:"App"},r.a.createElement(Z.a,{position:"static"},r.a.createElement(_.a,{style:{justifyContent:"space-between"}},r.a.createElement(ee.a,{variant:"h6"},"Asumistukilaskuri"),r.a.createElement("a",{href:"mailto:kasper.nurminen@aalto.fi"},r.a.createElement(te.a,{color:"inherit"},"Ominaisuuspyynt\xf6")))),r.a.createElement("div",{style:{display:"flex",overflow:"scroll",height:"73vh"}},r.a.createElement(Y.a,{container:!0,spacing:0},r.a.createElement(Y.a,{item:!0,xs:12,sm:6},r.a.createElement(T,{updateData:d,totalEarnings:c})),r.a.createElement(Y.a,{item:!0,xs:12,sm:6},r.a.createElement(Q,{updateData:d})))),r.a.createElement("div",{className:"App-footer-container"},r.a.createElement(X.a,{elevation:16,className:"App-footer"},r.a.createElement(U,{data:a}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[85,1,2]]]);
//# sourceMappingURL=main.d9a33e72.chunk.js.map